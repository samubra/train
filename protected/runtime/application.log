2013/03/16 22:45:03 [error] [exception.CDbException] exception 'CDbException' with message 'Active record "User" 正尝试选择一个无效的栏位 "user.lastvisit_at". 注意, 该栏位必须存在于 table 中或者是一个具别名的 expression.' in /home/samubra/htdocs/yii/framework/db/ar/CActiveFinder.php:940
Stack trace:
#0 /home/samubra/htdocs/yii/framework/db/ar/CActiveFinder.php(1232): CJoinElement->getColumnSelect(Array)
#1 /home/samubra/htdocs/yii/framework/db/ar/CActiveFinder.php(418): CJoinQuery->__construct(Object(CJoinElement), Object(CDbCriteria))
#2 /home/samubra/htdocs/yii/framework/db/ar/CActiveFinder.php(70): CJoinElement->find(Object(CDbCriteria))
#3 /home/samubra/htdocs/yii/framework/db/ar/CActiveRecord.php(1296): CActiveFinder->query(Object(CDbCriteria), false)
#4 /home/samubra/htdocs/yii/framework/db/ar/CActiveRecord.php(1459): CActiveRecord->query(Object(CDbCriteria))
#5 /home/samubra/htdocs/train/protected/modules/user/components/UserIdentity.php(27): CActiveRecord->findByAttributes(Array)
#6 /home/samubra/htdocs/train/protected/modules/user/models/UserLogin.php(52): UserIdentity->authenticate()
#7 /home/samubra/htdocs/yii/framework/validators/CInlineValidator.php(43): UserLogin->authenticate('password', Array)
#8 /home/samubra/htdocs/yii/framework/validators/CValidator.php(214): CInlineValidator->validateAttribute(Object(UserLogin), 'password')
#9 /home/samubra/htdocs/yii/framework/base/CModel.php(158): CValidator->validate(Object(UserLogin), NULL)
#10 /home/samubra/htdocs/train/protected/modules/user/controllers/LoginController.php(20): CModel->validate()
#11 /home/samubra/htdocs/yii/framework/web/actions/CInlineAction.php(50): LoginController->actionLogin()
#12 /home/samubra/htdocs/yii/framework/web/CController.php(309): CInlineAction->runWithParams(Array)
#13 /home/samubra/htdocs/yii/framework/web/CController.php(287): CController->runAction(Object(CInlineAction))
#14 /home/samubra/htdocs/yii/framework/web/CController.php(266): CController->runActionWithFilters(Object(CInlineAction), Array)
#15 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(283): CController->run('')
#16 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('user/login')
#17 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#18 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#19 {main}
REQUEST_URI=/train/index.php?r=user/login
HTTP_REFERER=http://localhost/train/index.php?r=user/login
---
2013/03/16 22:48:29 [error] [php] Object of class CHttpSession could not be converted to string (/home/samubra/htdocs/yii/framework/db/schema/CDbColumnSchema.php:141)
Stack trace:
#0 /home/samubra/htdocs/yii/framework/db/ar/CActiveRecord.php(1064): User->updateByPk()
#1 /home/samubra/htdocs/yii/framework/db/ar/CActiveRecord.php(796): User->update()
#2 /home/samubra/htdocs/train/protected/modules/user/controllers/LoginController.php(37): User->save()
#3 /home/samubra/htdocs/train/protected/modules/user/controllers/LoginController.php(21): LoginController->lastViset()
#4 /home/samubra/htdocs/yii/framework/web/actions/CInlineAction.php(50): LoginController->actionLogin()
#5 /home/samubra/htdocs/yii/framework/web/CController.php(309): CInlineAction->runWithParams()
#6 /home/samubra/htdocs/yii/framework/web/CController.php(287): LoginController->runAction()
#7 /home/samubra/htdocs/yii/framework/web/CController.php(266): LoginController->runActionWithFilters()
#8 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(283): LoginController->run()
#9 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController()
#10 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#11 /home/samubra/htdocs/train/index.php(16): CWebApplication->run()
REQUEST_URI=/train/index.php?r=user/login
in /home/samubra/htdocs/train/protected/modules/user/controllers/LoginController.php (37)
in /home/samubra/htdocs/train/protected/modules/user/controllers/LoginController.php (21)
in /home/samubra/htdocs/train/index.php (16)
2013/03/16 23:09:41 [error] [exception.CHttpException.404] exception 'CHttpException' with message '无法解析请求 "rights"。' in /home/samubra/htdocs/yii/framework/web/CWebApplication.php:287
Stack trace:
#0 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('rights')
#1 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#2 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#3 {main}
REQUEST_URI=/train/index.php?r=rights
---
2013/03/16 23:10:39 [error] [system.db.CDbCommand] CDbCommand::fetchColumn() failed: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'train.AuthItem' doesn't exist. The SQL statement executed was: SELECT COUNT(*) FROM AuthItem.
in /home/samubra/htdocs/train/protected/modules/rights/components/RInstaller.php (180)
in /home/samubra/htdocs/train/protected/modules/rights/controllers/InstallController.php (43)
in /home/samubra/htdocs/train/index.php (16)
2013/03/16 23:10:44 [error] [system.db.CDbCommand] CDbCommand::fetchAll() failed: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'train.AuthAssignment' doesn't exist. The SQL statement executed was: SELECT *
FROM `AuthAssignment`
WHERE userid=:userid.
in /home/samubra/htdocs/train/protected/modules/rights/components/RAuthorizer.php (341)
in /home/samubra/htdocs/train/protected/modules/rights/components/RWebUser.php (21)
in /home/samubra/htdocs/train/protected/modules/user/models/UserLogin.php (57)
2013/03/16 23:10:44 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand 无法执行 SQL 语句: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'train.AuthAssignment' doesn't exist. The SQL statement executed was: SELECT *
FROM `AuthAssignment`
WHERE userid=:userid' in /home/samubra/htdocs/yii/framework/db/CDbCommand.php:528
Stack trace:
#0 /home/samubra/htdocs/yii/framework/db/CDbCommand.php(390): CDbCommand->queryInternal('fetchAll', Array, Array)
#1 /home/samubra/htdocs/yii/framework/web/auth/CDbAuthManager.php(338): CDbCommand->queryAll()
#2 /home/samubra/htdocs/train/protected/modules/rights/components/RAuthorizer.php(341): CDbAuthManager->getAuthAssignments('1')
#3 /home/samubra/htdocs/train/protected/modules/rights/components/RWebUser.php(21): RAuthorizer->isSuperuser('1')
#4 /home/samubra/htdocs/yii/framework/web/auth/CWebUser.php(239): RWebUser->afterLogin(false)
#5 /home/samubra/htdocs/train/protected/modules/user/models/UserLogin.php(57): CWebUser->login(Object(UserIdentity), 0)
#6 /home/samubra/htdocs/yii/framework/validators/CInlineValidator.php(43): UserLogin->authenticate('password', Array)
#7 /home/samubra/htdocs/yii/framework/validators/CValidator.php(214): CInlineValidator->validateAttribute(Object(UserLogin), 'password')
#8 /home/samubra/htdocs/yii/framework/base/CModel.php(158): CValidator->validate(Object(UserLogin), NULL)
#9 /home/samubra/htdocs/train/protected/modules/user/controllers/LoginController.php(20): CModel->validate()
#10 /home/samubra/htdocs/yii/framework/web/actions/CInlineAction.php(50): LoginController->actionLogin()
#11 /home/samubra/htdocs/yii/framework/web/CController.php(309): CInlineAction->runWithParams(Array)
#12 /home/samubra/htdocs/yii/framework/web/CController.php(287): CController->runAction(Object(CInlineAction))
#13 /home/samubra/htdocs/yii/framework/web/CController.php(266): CController->runActionWithFilters(Object(CInlineAction), Array)
#14 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(283): CController->run('')
#15 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('user/login')
#16 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#17 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#18 {main}
REQUEST_URI=/train/index.php?r=user/login
HTTP_REFERER=http://localhost/train/index.php?r=user/login
---
2013/03/16 23:13:32 [error] [system.db.CDbCommand] CDbCommand::fetchColumn() failed: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'train.AuthItem' doesn't exist. The SQL statement executed was: SELECT COUNT(*) FROM AuthItem.
in /home/samubra/htdocs/train/protected/modules/rights/components/RInstaller.php (180)
in /home/samubra/htdocs/train/protected/modules/rights/controllers/InstallController.php (43)
in /home/samubra/htdocs/train/index.php (16)
2013/03/16 23:24:50 [error] [exception.CException] exception 'CException' with message '属性 "AssignmentController.blockIcon" 未被定义.' in /home/samubra/htdocs/yii/framework/base/CComponent.php:131
Stack trace:
#0 /home/samubra/htdocs/train/themes/aquarius/views/layouts/column2.php(7): CComponent->__get('blockIcon')
#1 /home/samubra/htdocs/yii/framework/web/CBaseController.php(127): require('/home/samubra/h...')
#2 /home/samubra/htdocs/yii/framework/web/CBaseController.php(96): CBaseController->renderInternal('/home/samubra/h...', Array, true)
#3 /home/samubra/htdocs/yii/framework/web/widgets/CContentDecorator.php(77): CBaseController->renderFile('/home/samubra/h...', Array, true)
#4 /home/samubra/htdocs/yii/framework/web/widgets/CContentDecorator.php(55): CContentDecorator->decorate('?<div id="right...')
#5 /home/samubra/htdocs/yii/framework/web/widgets/COutputProcessor.php(45): CContentDecorator->processOutput('?<div id="right...')
#6 /home/samubra/htdocs/yii/framework/web/CBaseController.php(207): COutputProcessor->run()
#7 /home/samubra/htdocs/yii/framework/web/CBaseController.php(301): CBaseController->endWidget('CContentDecorat...')
#8 /home/samubra/htdocs/train/protected/modules/rights/views/layouts/main.php(25): CBaseController->endContent()
#9 /home/samubra/htdocs/yii/framework/web/CBaseController.php(127): require('/home/samubra/h...')
#10 /home/samubra/htdocs/yii/framework/web/CBaseController.php(96): CBaseController->renderInternal('/home/samubra/h...', Array, true)
#11 /home/samubra/htdocs/yii/framework/web/CController.php(785): CBaseController->renderFile('/home/samubra/h...', Array, true)
#12 /home/samubra/htdocs/train/protected/modules/rights/controllers/AssignmentController.php(74): CController->render('view', Array)
#13 /home/samubra/htdocs/yii/framework/web/actions/CInlineAction.php(50): AssignmentController->actionView()
#14 /home/samubra/htdocs/yii/framework/web/CController.php(309): CInlineAction->runWithParams(Array)
#15 /home/samubra/htdocs/yii/framework/web/filters/CFilterChain.php(134): CController->runAction(Object(CInlineAction))
#16 /home/samubra/htdocs/yii/framework/web/filters/CFilter.php(41): CFilterChain->run()
#17 /home/samubra/htdocs/yii/framework/web/CController.php(1146): CFilter->filter(Object(CFilterChain))
#18 /home/samubra/htdocs/yii/framework/web/filters/CInlineFilter.php(59): CController->filterAccessControl(Object(CFilterChain))
#19 /home/samubra/htdocs/yii/framework/web/filters/CFilterChain.php(131): CInlineFilter->filter(Object(CFilterChain))
#20 /home/samubra/htdocs/yii/framework/web/CController.php(292): CFilterChain->run()
#21 /home/samubra/htdocs/yii/framework/web/CController.php(266): CController->runActionWithFilters(Object(CInlineAction), Array)
#22 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(283): CController->run('')
#23 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('rights')
#24 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#25 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#26 {main}
REQUEST_URI=/train/index.php?r=rights
---
2013/03/16 23:32:34 [error] [exception.CException] exception 'CException' with message 'AuthItemController 无法找到请求的视图 "tasks".' in /home/samubra/htdocs/yii/framework/web/CController.php:879
Stack trace:
#0 /home/samubra/htdocs/yii/framework/web/CController.php(783): CController->renderPartial('tasks', Array, true)
#1 /home/samubra/htdocs/train/protected/modules/rights/controllers/AuthItemController.php(167): CController->render('tasks', Array)
#2 /home/samubra/htdocs/yii/framework/web/actions/CInlineAction.php(50): AuthItemController->actionTasks()
#3 /home/samubra/htdocs/yii/framework/web/CController.php(309): CInlineAction->runWithParams(Array)
#4 /home/samubra/htdocs/yii/framework/web/filters/CFilterChain.php(134): CController->runAction(Object(CInlineAction))
#5 /home/samubra/htdocs/yii/framework/web/filters/CFilter.php(41): CFilterChain->run()
#6 /home/samubra/htdocs/yii/framework/web/CController.php(1146): CFilter->filter(Object(CFilterChain))
#7 /home/samubra/htdocs/yii/framework/web/filters/CInlineFilter.php(59): CController->filterAccessControl(Object(CFilterChain))
#8 /home/samubra/htdocs/yii/framework/web/filters/CFilterChain.php(131): CInlineFilter->filter(Object(CFilterChain))
#9 /home/samubra/htdocs/yii/framework/web/CController.php(292): CFilterChain->run()
#10 /home/samubra/htdocs/yii/framework/web/CController.php(266): CController->runActionWithFilters(Object(CInlineAction), Array)
#11 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(283): CController->run('tasks')
#12 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('rights/authItem...')
#13 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#14 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#15 {main}
REQUEST_URI=/train/index.php?r=rights/authItem/tasks
HTTP_REFERER=http://localhost/train/index.php?r=rights/authItem/roles
---
2013/03/16 23:34:56 [error] [exception.CHttpException.404] exception 'CHttpException' with message '无法解析请求 "rights/site/contact"。' in /home/samubra/htdocs/yii/framework/web/CWebApplication.php:287
Stack trace:
#0 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('rights/site/con...')
#1 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#2 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#3 {main}
REQUEST_URI=/train/index.php?r=rights/site/contact
HTTP_REFERER=http://localhost/train/index.php?r=rights
---
2013/03/17 10:13:44 [error] [exception.CHttpException.404] exception 'CHttpException' with message '无法解析请求 "product/new"。' in /home/samubra/htdocs/yii/framework/web/CWebApplication.php:287
Stack trace:
#0 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('product/new')
#1 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#2 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#3 {main}
REQUEST_URI=/train/index.php?r=product/new&tag=new
HTTP_REFERER=http://localhost/train/index.php?r=site/index
---
2013/03/17 10:21:58 [error] [exception.CHttpException.404] exception 'CHttpException' with message '无法解析请求 "product/new"。' in /home/samubra/htdocs/yii/framework/web/CWebApplication.php:287
Stack trace:
#0 /home/samubra/htdocs/yii/framework/web/CWebApplication.php(142): CWebApplication->runController('product/new')
#1 /home/samubra/htdocs/yii/framework/base/CApplication.php(162): CWebApplication->processRequest()
#2 /home/samubra/htdocs/train/index.php(16): CApplication->run()
#3 {main}
REQUEST_URI=/train/index.php?r=product/new&tag=new
HTTP_REFERER=http://localhost/train/index.php?r=site/contact
---
